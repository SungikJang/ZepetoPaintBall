fileFormatVersion: 2
guid: 4db7949eadb659b4091fb367fb66e3e8
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    ZEPETO_Character_Controller_1 = require(\"ZEPETO.Character.Controller\");\r\nconst
    ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst GunController_1 = require(\"../Controller/GunController\");\r\nconst
    Manager_1 = require(\"../Manager/Manager\");\r\nconst Connector_1 = require(\"../Network/Connector\");\r\nconst
    MyPlayerController_1 = require(\"./MyPlayerController\");\r\nclass MyPlayerMovement
    extends ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    constructor() {\r\n       
    super(...arguments);\r\n        this.isInStartUI = true;\r\n        this.myPlayer
    = null;\r\n        this.myPlayerObject = null;\r\n        this.lastSpineAngle
    = 0;\r\n        this.isMoving = false;\r\n        this.isJumping = false;\r\n   
    }\r\n    Init() {\r\n        //this.serviceManager.EnglishGameService.SubscribeState(this);\r\n       
    //this.StartCoroutine(this.Spin())\r\n    }\r\n    // * Spin(){\r\n    //    
    while(true){\r\n    //         console.log(\"????\")\r\n    //         ZepetoPlayers.instance.LocalPlayer.zepetoPlayer.character.transform.Rotate(new
    Vector3(0,1,0))\r\n    //         yield new WaitForSeconds(0.2);\r\n    //    
    }\r\n    // }\r\n    SetMyPlayer(player) {\r\n        this.myPlayer = player;\r\n       
    this.myPlayerObject = this.myPlayer.character.gameObject;\r\n        this.myAnimator
    = player.character.ZepetoAnimator;\r\n    }\r\n    Teleport(pos, rot) {\r\n       
    this.myPlayer.character.Teleport(pos, rot);\r\n    }\r\n    Rotate() {\r\n       
    if (!Manager_1.default.Game.IsGamePlaying) {\r\n            if (this.isInStartUI
    && this.myPlayerObject) {\r\n                this.myPlayerObject.transform.Rotate(UnityEngine_1.Vector3.op_Multiply(UnityEngine_1.Vector3.op_Multiply(UnityEngine_1.Vector3.up,
    UnityEngine_1.Time.deltaTime), 30));\r\n            }\r\n        }\r\n    }\r\n   
    LookDir() {\r\n        if (Manager_1.default.Game.IsGamePlaying) {\r\n           
    let q = this.myPlayer.character.gameObject.transform.rotation.eulerAngles;\r\n           
    let cq = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.LocalPlayer.zepetoCamera.camera.gameObject.transform.rotation\r\n               
    .eulerAngles;\r\n            this.myPlayer.character.gameObject.transform.rotation
    = UnityEngine_1.Quaternion.Euler(new UnityEngine_1.Vector3(q.x, cq.y, q.z));\r\n           
    // this.myPlayer.character.MoveContinuously(cq);\r\n            let sa = 0;\r\n           
    if (cq.x === 0) {\r\n                sa = 0;\r\n            }\r\n           
    else {\r\n                if (cq.x > 300) {\r\n                    sa = (360
    - cq.x) / 36;\r\n                }\r\n                else {\r\n                   
    sa = cq.x / -45;\r\n                }\r\n            }\r\n            let val
    = this.lastSpineAngle - sa;\r\n            if (Math.abs(val) > 0.001) {\r\n               
    Connector_1.default.Instance.ReqToServer(''SpineAngle'', { spineAngle: sa });\r\n               
    this.lastSpineAngle = sa;\r\n            }\r\n        }\r\n    }\r\n    get GunController()
    {\r\n        return this.gunController;\r\n    }\r\n    set GunController(value)
    {\r\n        this.gunController = value;\r\n    }\r\n    get MyAnimator() {\r\n       
    return this.myAnimator;\r\n    }\r\n    get IsMoving() {\r\n        return this.isMoving;\r\n   
    }\r\n    set IsMoving(value) {\r\n        this.isMoving = value;\r\n    }\r\n   
    get IsJumping() {\r\n        return this.isJumping;\r\n    }\r\n    set IsJumping(value)
    {\r\n        this.isJumping = value;\r\n    }\r\n    SetSpineAngle(spineAngle)
    {\r\n        this.myAnimator.SetFloat(''SpineAngle'', spineAngle);\r\n    }\r\n   
    SetAnimParam(name, num) {\r\n        if (!this.isJumping) {\r\n            //
    if (this.myPlayer.character.characterController.isGrounded) {\r\n           
    //     if (this.myAnimator.GetInteger(name) !== num) {\r\n            //        
    this.myAnimator.SetInteger(name, num)\r\n            //     }\r\n           
    // }\r\n            if (this.myAnimator.GetInteger(name) !== num) {\r\n               
    this.myAnimator.SetInteger(name, num);\r\n            }\r\n        }\r\n    }\r\n   
    Shoot() {\r\n        this.GunController.Shoot();\r\n    }\r\n    Move(x, y, amount)
    {\r\n        let speed = amount / 27 / 5;\r\n        this.myAnimator.SetFloat(''Acceleration'',
    amount / 27);\r\n        let dir = new UnityEngine_1.Vector3(y, 0, x).normalized;\r\n       
    let p = this.myPlayer.character.gameObject.transform.position;\r\n        dir
    = this.myPlayer.character.gameObject.transform.TransformDirection(dir);\r\n       
    this.myPlayer.character.characterController.enabled = false;\r\n        this.myPlayer.character.gameObject.transform.position
    = new UnityEngine_1.Vector3(p.x + dir.x * speed, p.y, p.z + dir.z * speed);\r\n       
    this.myPlayer.character.characterController.enabled = true;\r\n    }\r\n    Jump()
    {\r\n        this.isJumping = true;\r\n    }\r\n}\r\nexports.default = MyPlayerMovement;\r\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTXlQbGF5ZXJNb3ZlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIk15UGxheWVyTW92ZW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FXcUI7QUFDckIsNkVBQXdFO0FBQ3hFLGlEQUFvRDtBQUNwRCwrREFBd0Q7QUFDeEQsZ0RBQXlDO0FBQ3pDLG9EQUE2QztBQUM3Qyw2REFBc0Q7QUFFdEQsTUFBcUIsZ0JBQWlCLFNBQVEscUNBQXFCO0lBQW5FOztRQUNVLGdCQUFXLEdBQVksSUFBSSxDQUFDO1FBQzVCLGFBQVEsR0FBaUIsSUFBSSxDQUFDO1FBQzlCLG1CQUFjLEdBQWUsSUFBSSxDQUFDO1FBRWxDLG1CQUFjLEdBQVUsQ0FBQyxDQUFDO1FBSTFCLGFBQVEsR0FBWSxLQUFLLENBQUM7UUFFMUIsY0FBUyxHQUFZLEtBQUssQ0FBQztJQWdJckMsQ0FBQztJQTlIQyxJQUFJO1FBQ0YsOERBQThEO1FBQzlELGtDQUFrQztJQUNwQyxDQUFDO0lBRUQsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQiw4QkFBOEI7SUFDOUIseUdBQXlHO0lBQ3pHLHlDQUF5QztJQUN6QyxRQUFRO0lBQ1IsSUFBSTtJQUVKLFdBQVcsQ0FBQyxNQUFvQjtRQUM5QixJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztRQUN2QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQztRQUN6RCxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDO0lBQ3BELENBQUM7SUFFRCxRQUFRLENBQUMsR0FBWSxFQUFFLEdBQWU7UUFDcEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRU0sTUFBTTtRQUNYLElBQUksQ0FBQyxpQkFBTyxDQUFDLElBQUksQ0FBQyxhQUFhLEVB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","assetPath":"Assets/Scripts/Client/MyPlayerController/MyPlayerMovement.ts","manifest":{"properties":[],"name":"MyPlayerMovement","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: 1bb3dfbe81fe92c04595bffb49521948
  onlyWriteTrigger: 0
