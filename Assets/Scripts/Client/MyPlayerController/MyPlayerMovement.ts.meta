fileFormatVersion: 2
guid: 4db7949eadb659b4091fb367fb66e3e8
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    ZEPETO_Character_Controller_1 = require(\"ZEPETO.Character.Controller\");\r\nconst
    ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst Manager_1 = require(\"../Manager/Manager\");\r\nconst
    Connector_1 = require(\"../Network/Connector\");\r\nclass MyPlayerMovement extends
    ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    constructor() {\r\n        super(...arguments);\r\n       
    this.isInStartUI = true;\r\n        this.myPlayer = null;\r\n        this.myPlayerObject
    = null;\r\n        this.lastSpineAngle = 0;\r\n        this.isMoving = false;\r\n       
    this.isJumping = false;\r\n    }\r\n    Init() {\r\n        //this.serviceManager.EnglishGameService.SubscribeState(this);\r\n       
    //this.StartCoroutine(this.Spin())\r\n    }\r\n    // * Spin(){\r\n    //    
    while(true){\r\n    //         console.log(\"????\")\r\n    //         ZepetoPlayers.instance.LocalPlayer.zepetoPlayer.character.transform.Rotate(new
    Vector3(0,1,0))\r\n    //         yield new WaitForSeconds(0.2);\r\n    //    
    }\r\n    // }\r\n    SetMyPlayer(player) {\r\n        this.myPlayer = player;\r\n       
    this.myPlayerObject = this.myPlayer.character.gameObject;\r\n        this.myAnimator
    = player.character.ZepetoAnimator;\r\n    }\r\n    Teleport(pos, rot) {\r\n       
    this.myPlayer.character.Teleport(pos, rot);\r\n    }\r\n    Rotate() {\r\n       
    if (!Manager_1.default.Game.IsGamePlaying) {\r\n            if (this.isInStartUI
    && this.myPlayerObject) {\r\n                this.myPlayerObject.transform.Rotate(UnityEngine_1.Vector3.op_Multiply(UnityEngine_1.Vector3.op_Multiply(UnityEngine_1.Vector3.up,
    UnityEngine_1.Time.deltaTime), 30));\r\n            }\r\n        }\r\n    }\r\n   
    LookDir() {\r\n        if (Manager_1.default.Game.IsGamePlaying) {\r\n           
    let q = this.myPlayer.character.gameObject.transform.rotation.eulerAngles;\r\n           
    let cq = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.LocalPlayer.zepetoCamera.camera.gameObject.transform.rotation.eulerAngles;\r\n           
    this.myPlayer.character.gameObject.transform.rotation = UnityEngine_1.Quaternion.Euler(new
    UnityEngine_1.Vector3(q.x, cq.y, q.z));\r\n            // this.myPlayer.character.MoveContinuously(cq);\r\n           
    let sa = 0;\r\n            if (cq.x === 0) {\r\n                sa = 0;\r\n           
    }\r\n            else {\r\n                if (cq.x > 300) {\r\n                   
    sa = (360 - cq.x) / 36;\r\n                }\r\n                else {\r\n                   
    sa = cq.x / -45;\r\n                }\r\n            }\r\n            let val
    = this.lastSpineAngle - sa;\r\n            if (Math.abs(val) > 0.001) {\r\n               
    Connector_1.default.Instance.ReqToServer(\"SpineAngle\", { spineAngle: sa });\r\n               
    this.lastSpineAngle = sa;\r\n            }\r\n        }\r\n    }\r\n    get GunController()
    {\r\n        return this.gunController;\r\n    }\r\n    set GunController(value)
    {\r\n        this.gunController = value;\r\n    }\r\n    get MyAnimator() {\r\n       
    return this.myAnimator;\r\n    }\r\n    get IsMoving() {\r\n        return this.isMoving;\r\n   
    }\r\n    set IsMoving(value) {\r\n        this.isMoving = value;\r\n    }\r\n   
    get IsJumping() {\r\n        return this.isJumping;\r\n    }\r\n    set IsJumping(value)
    {\r\n        this.isJumping = value;\r\n    }\r\n    SetSpineAngle(spineAngle)
    {\r\n        this.myAnimator.SetFloat(\"SpineAngle\", spineAngle);\r\n    }\r\n   
    SetAnimParam(name, num) {\r\n        if (!this.isJumping) {\r\n            //
    if (this.myPlayer.character.characterController.isGrounded) {\r\n           
    //     if (this.myAnimator.GetInteger(name) !== num) {\r\n            //        
    this.myAnimator.SetInteger(name, num)\r\n            //     }\r\n           
    // }\r\n            if (this.myAnimator.GetInteger(name) !== num) {\r\n               
    this.myAnimator.SetInteger(name, num);\r\n            }\r\n        }\r\n    }\r\n   
    Shoot() {\r\n        this.GunController.Shoot();\r\n    }\r\n    Move(x, y, amount)
    {\r\n        let speed = (amount / 27) / 5;\r\n        this.myAnimator.SetFloat(\"Acceleration\",
    amount / 27);\r\n        let dir = new UnityEngine_1.Vector3(y, 0, x).normalized;\r\n       
    let p = this.myPlayer.character.gameObject.transform.position;\r\n        dir
    = this.myPlayer.character.gameObject.transform.TransformDirection(dir);\r\n       
    this.myPlayer.character.characterController.enabled = false;\r\n        this.myPlayer.character.gameObject.transform.position
    = new UnityEngine_1.Vector3(p.x + (dir.x * speed), p.y, p.z + (dir.z * speed));\r\n       
    this.myPlayer.character.characterController.enabled = true;\r\n    }\r\n    Jump()
    {\r\n        this.isJumping = true;\r\n    }\r\n}\r\nexports.default = MyPlayerMovement;\r\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTXlQbGF5ZXJNb3ZlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIk15UGxheWVyTW92ZW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FXcUI7QUFDckIsNkVBQXdFO0FBQ3hFLGlEQUFxRDtBQUVyRCxnREFBMEM7QUFDMUMsb0RBQTZDO0FBRzdDLE1BQXFCLGdCQUFpQixTQUFRLHFDQUFxQjtJQUFuRTs7UUFDWSxnQkFBVyxHQUFZLElBQUksQ0FBQztRQUM1QixhQUFRLEdBQWlCLElBQUksQ0FBQztRQUM5QixtQkFBYyxHQUFlLElBQUksQ0FBQztRQUVsQyxtQkFBYyxHQUFVLENBQUMsQ0FBQztRQUkxQixhQUFRLEdBQVksS0FBSyxDQUFDO1FBRTFCLGNBQVMsR0FBWSxLQUFLLENBQUM7SUEySHZDLENBQUM7SUF6SEcsSUFBSTtRQUVBLDhEQUE4RDtRQUM5RCxrQ0FBa0M7SUFDdEMsQ0FBQztJQUVELFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsOEJBQThCO0lBQzlCLHlHQUF5RztJQUN6Ryx5Q0FBeUM7SUFDekMsUUFBUTtJQUNSLElBQUk7SUFFSixXQUFXLENBQUMsTUFBb0I7UUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7UUFDdkIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUM7UUFDekQsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQztJQUN0RCxDQUFDO0lBR0QsUUFBUSxDQUFDLEdBQVksRUFBRSxHQUFlO1FBQ2xDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVNLE1BQU07UUFDVCxJQUFJLENBQUMsaUJBQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQzdCLElBQUksSUFBSSxDQUFDLFdB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","assetPath":"Assets/Scripts/Client/MyPlayerController/MyPlayerMovement.ts","manifest":{"properties":[],"name":"MyPlayerMovement","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: bafcbdadf1b86c026bc258cd624e9042
  onlyWriteTrigger: 0
