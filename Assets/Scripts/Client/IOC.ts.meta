fileFormatVersion: 2
guid: 8b0c4faf0bfeff746acff791b837d297
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nexports.Injectable = void 0;\r\nconst DataManager_1 = require(\"./Manager/DataManager\");\r\nconst
    FlagGameManager_1 = require(\"./Manager/FlagGameManager\");\r\nconst GameManger_1
    = require(\"./Manager/GameManger\");\r\nconst LanguageManager_1 = require(\"./Manager/LanguageManager\");\r\nconst
    Manager_1 = require(\"./Manager/Manager\");\r\nconst ResourceManager_1 = require(\"./Manager/ResourceManager\");\r\nconst
    SeigeGameManager_1 = require(\"./Manager/SeigeGameManager\");\r\nconst SoloFlagGameManager_1
    = require(\"./Manager/SoloFlagGameManager\");\r\nconst SoundManager_1 = require(\"./Manager/SoundManager\");\r\nconst
    UIManager_1 = require(\"./Manager/UIManager\");\r\nconst MyPalyerController_1
    = require(\"./MyPlayer/MyPalyerController\");\r\nconst MyPlayerData_1 = require(\"./MyPlayer/MyPlayerData\");\r\nconst
    MyPlayerMovement_1 = require(\"./MyPlayer/MyPlayerMovement\");\r\nfunction Injectable()
    {\r\n    return (target) => {\r\n        target.prototype.injectable = true;\r\n   
    };\r\n}\r\nexports.Injectable = Injectable;\r\nclass IOC {\r\n    constructor()
    {\r\n        this.instances = new Map();\r\n        this.implementations = new
    Map();\r\n        this.classTypeMap = new Map();\r\n        this.classTypeMap.set(''_MyPlayerController'',
    MyPalyerController_1.MyPlayerController);\r\n        this.classTypeMap.set(''_MyPlayerMovement'',
    MyPlayerMovement_1.default);\r\n        this.classTypeMap.set(''_MyPlayerData'',
    MyPlayerData_1.default);\r\n        this.classTypeMap.set(''_Manager'', Manager_1.default);\r\n       
    this.classTypeMap.set(''_ResourceManager'', ResourceManager_1.default);\r\n       
    this.classTypeMap.set(''_DataManager'', DataManager_1.default);\r\n        this.classTypeMap.set(''_UIManager'',
    UIManager_1.default);\r\n        this.classTypeMap.set(''_LanguageManager'',
    LanguageManager_1.default);\r\n        this.classTypeMap.set(''_SoundManager'',
    SoundManager_1.default);\r\n        this.classTypeMap.set(''_GameManager'', GameManger_1.default);\r\n       
    this.classTypeMap.set(''_FlagGameManager'', FlagGameManager_1.default);\r\n       
    this.classTypeMap.set(''_SeigeGameManager'', SeigeGameManager_1.default);\r\n       
    this.classTypeMap.set(''_SoloFlagGameManager'', SoloFlagGameManager_1.default);\r\n   
    }\r\n    static get Instance() {\r\n        if (!this._instance) {\r\n           
    this._instance = new IOC();\r\n        }\r\n        return this._instance;\r\n   
    }\r\n    createInstance(classType) {\r\n        if (this.instances.get(classType))
    {\r\n            return this.instances.get(classType);\r\n        }\r\n       
    const stringDependencies = this.getStringDependencies(classType);\r\n       
    const dependencies = stringDependencies.map((stringDependency) => {\r\n           
    const classType = this.getClassType(stringDependency);\r\n            return
    this.getInstance(classType) ?? this.createInstance(classType);\r\n        });\r\n       
    const createdInstance = new classType(...dependencies);\r\n        this.instances.set(classType,
    createdInstance);\r\n        return createdInstance;\r\n    }\r\n    getInstance(classType)
    {\r\n        if (!this.instances.get(classType)) {\r\n            return null;\r\n       
    }\r\n        return this.instances.get(classType);\r\n    }\r\n    getStringDependencies(classType)
    {\r\n        console.log(''1'', classType.toString());\r\n        const constructorArgs
    = classType.toString().match(/constructor\\s*\\((.*?)\\)/);\r\n        console.log(''2'',
    constructorArgs);\r\n        if (!constructorArgs) {\r\n            return [];\r\n       
    }\r\n        const args = constructorArgs[0].split(\"(\")[1].split(\")\")[0];\r\n       
    if (args === '''') {\r\n            return [];\r\n        }\r\n        console.log(''3'',
    constructorArgs);\r\n        return args.split('','').map((arg) => arg.trim());\r\n   
    }\r\n    getClassType(key) {\r\n        return this.classTypeMap.get(key);\r\n   
    }\r\n    provide(targetClass, implementationClass) {\r\n        this.implementations.set(targetClass,
    implementationClass);\r\n    }\r\n}\r\nexports.default = IOC;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSU9DLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiSU9DLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHVEQUFnRDtBQUNoRCwrREFBd0Q7QUFDeEQscURBQStDO0FBQy9DLCtEQUF3RDtBQUN4RCwrQ0FBd0M7QUFDeEMsK0RBQXdEO0FBQ3hELGlFQUEwRDtBQUMxRCx1RUFBZ0U7QUFDaEUseURBQWtEO0FBQ2xELG1EQUE0QztBQUM1QyxzRUFBbUU7QUFDbkUsMERBQW1EO0FBQ25ELGtFQUEyRDtBQU8zRCxTQUFnQixVQUFVO0lBQ3RCLE9BQU8sQ0FBQyxNQUFXLEVBQUUsRUFBRTtRQUNuQixNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDdkMsQ0FBQyxDQUFDO0FBQ04sQ0FBQztBQUpELGdDQUlDO0FBWUQsTUFBcUIsR0FBRztJQU1wQjtRQUpRLGNBQVMsR0FBRyxJQUFJLEdBQUcsRUFBeUIsQ0FBQztRQUM3QyxvQkFBZSxHQUFHLElBQUksR0FBRyxFQUFzQyxDQUFDO1FBQ2hFLGlCQUFZLEdBQUcsSUFBSSxHQUFHLEVBQTRCLENBQUM7UUFHdkQsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUsdUNBQWtCLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSwwQkFBZ0IsQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxzQkFBWSxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLGlCQUFPLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSx5QkFBZSxDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLHFCQUFXLENBQUMs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","assetPath":"Assets/Scripts/Client/IOC.ts","manifest":{"properties":[],"name":"IOC","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: f95c3854671ec1c51ce0583d25d23875
  onlyWriteTrigger: 0
